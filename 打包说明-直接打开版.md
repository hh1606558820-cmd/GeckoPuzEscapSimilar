# 单机网页版打包说明 - 可直接双击打开

## ✅ 已完成配置

项目已配置为**可以直接双击 `index.html` 打开**，无需启动服务器！

### 核心配置

1. **Vite 配置** (`vite.config.ts`)：
   - `base: './'` - 使用相对路径
   - 构建输出使用相对路径的资源文件

2. **构建结果**：
   - 所有资源路径都是相对路径（`./assets/...`）
   - 支持在 file:// 协议下运行
   - 现代浏览器可以直接加载 ES 模块

## 📦 打包步骤

### Windows 用户

直接双击运行 `package-offline.bat`：

```bash
package-offline.bat
```

### Linux/Mac 用户

在终端中运行：

```bash
chmod +x package-offline.sh
./package-offline.sh
```

打包完成后，会在项目根目录生成 `level-editor-offline-YYYYMMDD.zip` 文件。

## 🚀 使用方法

### 方法一：直接双击打开（推荐）

1. 解压 ZIP 文件到任意目录
2. **直接双击 `index.html` 文件**
3. 浏览器会自动打开关卡编辑器
4. 开始使用！

### 方法二：使用本地服务器（备用）

如果直接打开出现白屏或 CORS 错误：

1. 双击 `start.bat`（Windows）或运行 `./start.sh`（Linux/Mac）
2. 等待服务器启动
3. 在浏览器中打开 `http://localhost:3000`

## 🌐 浏览器支持

支持以下现代浏览器（支持 file:// 协议下的 ES 模块）：

- ✅ Chrome 111+
- ✅ Firefox 114+
- ✅ Edge 111+
- ✅ Safari 16.4+

## 📁 打包文件结构

```
level-editor-offline-YYYYMMDD.zip
├── index.html              # 主页面（可以直接双击打开）
├── assets/                 # 资源文件目录
│   ├── index.js           # JavaScript 文件
│   └── index.css          # CSS 样式文件
├── start.bat              # Windows 启动脚本（备用方法）
├── start.sh               # Linux/Mac 启动脚本（备用方法）
├── README_OFFLINE.txt     # 离线使用说明
└── 使用说明.txt           # 快速使用说明
```

## 🔧 技术细节

### 为什么可以直接打开？

1. **相对路径配置**：所有资源使用相对路径（`./assets/...`），不依赖服务器根目录
2. **ES 模块支持**：现代浏览器支持在 file:// 协议下加载 ES 模块
3. **无 CORS 限制**：同源策略在 file:// 协议下对本地文件更宽松

### 如果遇到问题

如果直接打开出现白屏或错误：

1. **检查浏览器版本**：确保使用支持的浏览器版本
2. **检查控制台**：按 F12 打开开发者工具，查看错误信息
3. **使用备用方法**：运行 `start.bat` 或 `start.sh` 启动本地服务器

## 📝 注意事项

- ✅ **推荐方法**：直接双击 `index.html`，最简单快捷
- ⚠️ **备用方法**：如果直接打开不行，使用 `start.bat`/`start.sh` 启动服务器
- 📦 **完全离线**：所有资源已打包，无需网络连接
- 🔒 **安全提示**：某些浏览器可能对 file:// 协议有安全限制，如遇到问题请使用备用方法

## 🎯 优势

相比之前的版本（需要启动服务器）：

1. ✅ **更简单**：直接双击即可使用，无需启动服务器
2. ✅ **更快速**：无需等待服务器启动
3. ✅ **更便携**：可以在任何地方直接打开使用
4. ✅ **零配置**：不需要安装任何工具或配置

---

**现在就可以打包使用了！** 🎉
